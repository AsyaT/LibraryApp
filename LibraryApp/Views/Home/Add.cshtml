@using LibraryApp.Models;
@model BookModel

@{ 
    Layout = null;
}
@{HtmlHelper.UnobtrusiveJavaScriptEnabled = true;}
<div id="addForm">
@using (Ajax.BeginForm("Add", "Home",  new AjaxOptions { HttpMethod = "POST", UpdateTargetId = "addForm", InsertionMode = InsertionMode.Replace, OnComplete = "replaceTable()" }, new { enctype = "multipart/form-data" }))
{

    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        <legend>Add new book</legend>
        <div class="editor-field">
            @Html.LabelFor(model => model.Title)
            @Html.EditorFor(model => model.Title)
            @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
        </div>
        <div class="editor-field" >
            @Html.LabelFor(model => model.Authors)

            <br />
                        
            @Html.Action("AddAuthor","Home", new { number = 0, id = 0 })
            @Html.ValidationMessageFor(model => model.Authors, "", new { @class = "text-danger" })

        </div>
            <div class="editor-field">
                @Html.LabelFor(model => model.NumberOfPages)
                @Html.EditorFor(model => model.NumberOfPages)
                @Html.ValidationMessageFor(model => model.NumberOfPages, "", new { @class = "text-danger" })
            </div>
            <div class="editor-field">
                @Html.LabelFor(model => model.Publisher)
                @Html.EditorFor(model => model.Publisher)
                @Html.ValidationMessageFor(model => model.Publisher, "", new { @class = "text-danger" })
            </div>
            <div class="editor-field">
                @Html.LabelFor(model => model.YearOfPublication)
                @Html.EditorFor(model => model.YearOfPublication, "{0:yyyy}")
                @Html.ValidationMessageFor(model => model.YearOfPublication, "", new { @class = "text-danger" })
            </div>
            <div class="editor-field">
                @Html.LabelFor(model => model.Image)
                <input type="file" name="Image" class="input-files" />
            </div>
            <input type="submit" value="Save" id="buttonSave" />
</fieldset>
}
</div>